# install utMySQL
# mysql mysql -u root -p < src/utMySQL_pkg_TestSuite.sql
# https://sourceforge.net/projects/utmysql/?source=typ_redirect
# http://utmysql.sourceforge.net/

# run test
# mysqltest --test-file=mysql-test/t/add_drop_table.test mysql -u root -p


# InnoDB page size 16k is required
#
# Test of alter table
#


# --disable_warning
drop table if exists t1;
# --enable_warnings

SET sql_mode = 'NO_ENGINE_SUBSTITUTION';
SET SESSION information_schema_stats_expiry=0;

# Create a table t1 with two coloumn
create table t1 (
  col1 int not null auto_increment primary key,
  col2 varchar(30) not null);

# Assert that the table size is 0
CALL utAssert_eq( "Size should be 0", 0, (SELECT count(*) FROM t1));

# Case insert a raw into t1
INSERT INTO `t1` (`col1`,`col2`) VALUES(1,'mesut');

# Assert that the table size is 1
CALL utAssert_eq( "Size should be 1", 1, (SELECT count(*) FROM t1));

# house-keeping: drop the table t1
alter table t1;
drop table t1;
